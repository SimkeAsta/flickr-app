(this["webpackJsonpflickr-app"]=this["webpackJsonpflickr-app"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(16)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(3),r=a.n(l);a(13),a(14);function c(){return o.a.createElement("div",{className:"jumbotron jumbotron-fluid"},o.a.createElement("div",null,o.a.createElement("h1",null,"My favorite pictures of all")))}var s=a(1),i=a(4),u=a(5),m=a(6),d=a(7),p=(a(15),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).loadUser=function(){var t=e.state,a=t.per,n=t.page,o=t.data,l="https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=3af005f98931134da450d5b64ce71c32"+"&tags=nature&per_page=".concat(a,"&page=").concat(n,"&format=json&nojsoncallback=1");fetch(l).then((function(e){return e.json()})).then((function(t){e.setState({data:[].concat(Object(s.a)(o),Object(s.a)(t.photos.photo)),scrolling:!1,total_pages:t.photos.total})}))},e.loadMore=function(){e.setState((function(e){return{page:e.page+1,scrolling:!0}}),e.loadUser)},e.handleScroll=function(t){var a=e.state,n=a.scrolling,o=a.total_pages,l=a.page;if(!n&&!(o<=l)){var r=document.querySelector("tbody > tr:last-child"),c=r.offsetTop+r.clientHeight;window.pageYOffset+window.innerHeight>c-20&&e.loadMore()}},e.state={data:[],per:3,page:1,total_pages:null,scrolling:!1},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.loadUser(),this.scrollListener=window.addEventListener("scroll",(function(t){e.handleScroll(t)}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"firstCol",scope:"col"},o.a.createElement("h2",null,"PICTURE")),o.a.createElement("th",{className:"secondCol",scope:"col"},o.a.createElement("h2",{className:"title"},"TITLE")))),o.a.createElement("tbody",null,this.state.data.map((function(e,t){var a="https://farm"+e.farm+".staticflickr.com/"+e.server+"/"+e.id+"_"+e.secret+".jpg",n=e.title.toUpperCase();return o.a.createElement("tr",{key:t},o.a.createElement("td",{className:"firstCol"},o.a.createElement("img",{alt:"pics",src:a})),o.a.createElement("td",{className:"secondCol"},o.a.createElement("h1",null,n)))})))))}}]),a}(n.Component));var f=function(){return o.a.createElement("div",null,o.a.createElement(c,null),o.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.2dcc377e.chunk.js.map